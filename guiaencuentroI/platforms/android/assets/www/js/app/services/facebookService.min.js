define(["facebookSdk"],function(){FB.init({appId:"284021708287063",nativeInterface:CDV.FB,useCachedDialogs:!1});return function(){function d(){var c=$.Deferred();FB.getLoginStatus(function(a){c.resolve(a)});var b=$.Deferred();c.promise().then(function(a){a.authResponse?b.resolve(a):FB.login(function(a){b.resolve(a)},{scope:"email"})});return b.promise()}return{publish:function(c){var b=d(),a=$.Deferred();b.then(function(b){b.authResponse?FB.api("/me/feed","post",{message:c},function(b){a.resolve(b)}):
a.resolve("falla")});return a.promise()},logout:function(){FB.logout(function(c){window.location.reload()})}}}});